{% extends 'tiktok_live/tikfinity_layout.html' %}
{% block title %}Setup - TikFinity{% endblock %}
{% block content %}
<h1>Setup</h1>
<p style="color: #888; margin-bottom: 30px;">Here you can define the basic settings.</p>

<div class="section" id="tiktokName">
    <div class="field">
        <label>Your TikTok Name (<span class="ttred">Required!</span>)</label>
        <input type="text" placeholder="@username" id="textboxChannelName">
        <div style="margin-top: 15px;">
            <button class="btn btn-success" onclick="connectToTikTok()"><i class="fas fa-broadcast-tower"></i> Connect</button>
        </div>
    </div>
</div>

<div class="section" id="pointsSystemSettings">
    <h3>Points System</h3>
    <div class="field">
        <label>Currency Name</label>
        <input type="text" value="Points">
    </div>
    <div class="checkbox"><input type="checkbox" checked> Points per coin</div>
    <div class="checkbox"><input type="checkbox"> Points per share</div>
</div>

<div class="section" id="levelSettings">
    <h3>Level Settings</h3>
    <div class="field">
        <label>Max Level</label>
        <input type="number" value="100">
    </div>
</div>

<div class="section" id="obsConnection">
    <h3>OBS Integration</h3>
    <div class="field">
        <label>OBS WebSocket URL</label>
        <input type="text" placeholder="ws://localhost:4455">
    </div>
</div>

<div class="section" id="advancedSettings">
    <h3>Advanced Settings</h3>
    <div class="checkbox"><input type="checkbox" checked> Use localized gift names</div>
    <div class="checkbox"><input type="checkbox" checked> Use display names</div>
    <div class="field">
        <label>TikTok Language</label>
        <input type="text" placeholder="tr-TR" style="max-width: 200px;">
    </div>
</div>

<div class="section" id="accountSection">
    <h3>Your Account</h3>
    <table>
        <tr><td>User-ID</td><td>{{ user.id|default:"Not logged in" }}</td></tr>
        <tr><td>E-Mail</td><td>{{ user.email|default:"N/A" }}</td></tr>
    </table>
    <br>
    {% if user.is_authenticated %}
    <button class="btn" onclick="location.href='/tiktok/logout/'">Logout</button>
    {% else %}
    <button class="btn" onclick="location.href='{% url 'tiktok_live:tiktok_oauth_login' %}'"><i class="fab fa-tiktok"></i> Login with TikTok</button>
    <button class="btn" onclick="location.href='{% url 'tiktok_live:google_oauth_login' %}'"><i class="fab fa-google"></i> Login with Google</button>
    {% endif %}
</div>
{% endblock %}